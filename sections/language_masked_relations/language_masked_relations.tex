%! TEX root = ../../main.tex
Let $F \colon \cset \to \cgrp$ be the free functor and denote its action on objects as $F_S \coloneqq F(S)$ and its action on morphisms as  $f_* \coloneqq F(f \colon S \to T)$.
To each quotient $G$ of $F_S$ we associate the surjective homomorphism $\pi_{(S,G)} \colon F_S \to G$ which is projection.
In this context, we can frame a basic group theoretic fact.
We write $G \cong \GroupPres{S \relations R}$ if  $G \cong F_S / N(R)$ where $N(R)$ is the minimal normal subgroup in $F_S$ that contains $R$.
We write  $G \cong \GroupPres{S}$ if  $G$ is isomorphic to some quotient of  $F_S$.

\begin{basic_fact}
	Suppose we have two groups $G_1$ and $G_2$.
	Suppose that $G_1 \cong \GroupPres{S \relations R}$ where $R$ is a subset of $F_S$ for which $\pi_{(S,G_1)}(R) = \Set{1}$.
	Given a map $f \colon S \to G_2$, if  $\pi_{(G_2, G_2)} \circ f_*(R) = \Set{1} \subseteq G_2$, then $f$ defines a homomorphism $h \colon G_2 \to G_2$.
	\label{thm:homomorphism_universal_prop}
\end{basic_fact}

The above theorem defines a homomorphism $h \colon \GroupPres{S \relations R} \cong G_1 \to G_2$ when a map $f \colon S \to G_2$ is compatible with the relations in $G_1$ and $G_2$.
If we also had knowledge of a generating set for $G_2$, we could construct homomorphisms in a different way.
\begin{basic_fact}
	Suppose $G_1 \cong \GroupPres{S_1 \relations R_1}$ and $G_2 \cong \GroupPres{S_2}$.
	Given a map $f \colon S_1 \to S_2$, if there exists a map  $h$ such that the following diagram commutes, then $h$ is a homomorphism.
	\begin{equation}
		\begin{tikzcd}
			S_1 \ar[d, "f"] \ar[r, hook, "i_{S_1}"] & F_{S_1} \ar[d, "f_*"] \ar[rr, "\pi_{(S_1, G_1)}"] & & \ar[d, color=red, "h"] G_1 \\
			S_2 \ar[r, hook, "i_{S_2}"] & F_{S_2} \ar[rr, "\pi_{(S_2, G_2)}"] & & G_2
		\end{tikzcd}
		\label{eqn:homomorphism_squares}
	\end{equation}
	\label{thm:homomorphism_squares}
\end{basic_fact}

\begin{remark}
	If we construct a homomorphism using \cref{thm:homomorphism_universal_prop}, then we get the middle commuting square of \eqref{eqn:homomorphism_squares} automatically.
	\label{rmk:universal_prop_homomorphism_gives_squares}
\end{remark}

Now consider \eqref{eqn:homomorphism_squares}, but replace $F_{S_1}$ with some subset $Q \subseteq F_{S_1}$.
We will now construct a group, which we will denote $G^Q$, where such a diagram defines a homomorphism from $G^Q$ to $G_2$.

\begin{definition}[Group with relations visible in $Q$]
	Suppose we have a group $G \cong \GroupPres{S}$.
	Fix some $Q \subseteq F_S$ such that $S \subseteq Q$.
	Let $\pi \coloneq \pi_{(S,G)}$.
	We have the following maps.
	\[
		\begin{tikzcd}
			S \ar[r, hook, "i"] & Q \ar[r, "\pi"] & \pi(Q)
		\end{tikzcd}
		.\]
	Define the \emph{group $G$ with relations visible in $Q$}, to be
	\[
		G^Q \coloneqq \GroupPres{\pi(Q) \relations \Set{\pi(q) = (\pi \circ i)_*(q) \given q \in Q} }
		.\]
	\label{def:G_Q}
\end{definition}

Do not think of  the generators $\pi(Q)$ as elements of $G$.
They are abstract generators.
Specifically,  $G^Q$ is a quotient of  $F_{\pi(Q)}$.
Thus, our relations should be equations in $F_{\pi(Q)}$, which they are.
$G^Q$ is generated by $\pi(S) \subseteq \pi(Q)$.
$G$ is a quotient of  $G^Q$, which we will explore later.

\begin{lemma}
	\label{lem:dual_artin_W_Q_isomorphism}
	Let $Q=\hurref(s_1,\ldots,s_n)$.
	The dual Artin group $A^\vee$ is isomorphic to $W^Q$.
\end{lemma}
\begin{proof}
	TODO
	% Let us use $\pi$ as shorthand for  $\pi_{(S,W)}$.
	% We have that $\pi(Q)$ is the defining generating set for both $A^\vee$ and  $W^Q$.
	% Thus, it makes sense to compare relations in $A^\vee$ and  $W^Q$ as objects of the same type.
	% The (non-trivial) defining relations of $A^\vee$ and $W^Q$ are both in bijection with $Q \setminus S$.
	%
	% TODO (do this)
	%
	% Let $\tau = (s_1,\ldots,s_n)$.
	% We will show that the defining relations for each of these groups are in one to one correspondence.
	% We will show this by induction on braid length $\ell \colon B_n \to \N$ (with respect to the standard generating set $\Set{\sigma_i}$).
	%
	% We can build up the relators for $A^\vee$ or  $W^Q$ by successively considering braids of longer length.
	% To each relator for  $A^\vee$ or $W^Q$ there is an associated $k \in \N$ which corresponds to the minimum braid length  such that $\ell(\beta) = k$ and $\beta \cdot \pi^n(\tau)$ sees the generator of
	%
	% There is a bijection and identification of relations of $A^\vee$ and  $W^Q$ for all relations (or $q \in Q$) occurring  due to braids of length 1.
	% We see this in \cref{rmk:relations_in_hurwitz_group}.
	% This constitutes our base case.
	%
	% Now suppose that every relation in $A^\vee$ due to braids of length  $k$ or less can be re-written as  $\pi(q)=(i\circ \pi)_*(q)$ for some  $q \in Q$ occurring due to a braid of length  $k$ or less.
\end{proof}
\begin{lemma}
	Let $G \cong \GroupPres{S}$ be a group and consider the following setup.
	\[
		\begin{tikzcd}
			S \ar[r, hook, "i_S"] & F_S \ar[rr, "\pi_{(S,G)}"] & & G \ar[r, hook, "i_G"] & F_G \ar[rr, "\pi_{(G,G)}"] & & G
		\end{tikzcd}
	\]
	The following maps are equal.
	\[
		\pi_{(G,G)} \circ i_G \circ \pi_{(S,G)} = \pi_{(G,G)} \circ (\pi_{(S,G)} \circ i_S)_*
		.\]
	\label{lem:group_projections}
\end{lemma}

\begin{proof}
	Both maps are homomorphism which agree with $\pi_{\left( S,G\right)}$ on the generating set $S$.
\end{proof}

\begin{theorem}
	Suppose we have two groups $G_1 \cong \GroupPres{S_1}$ and $G_2 \cong \GroupPres{S_2}$.
	Fix some $Q \subseteq F_{S_1}$ such that  $S \subseteq Q$.
	Let $\overline{Q} \coloneqq \pi_{(S_1, G_1)}(Q) $.
	If in the following diagram \eqref{eqn:G_Q_homomorphism_setup}, if there exists a map $f$ that makes the diagram commute, then there is a homomorphism $h \colon (G_1)^Q \to G_2$.
	\begin{equation}
		\begin{tikzcd}
			S_1 \ar[d, "\theta"] \ar[r, hook, "i_{S_1}"] & Q \ar[d, "\theta_*"] \ar[rr, "\pi_{(S_1,G_1)}"] & & \overline{Q} \ar[d, color=red, "\exists f ?"] \\
			S_2 \ar[r, hook, "i_{S_2}"] & F_{S_2} \ar[rr, "\pi_{(S_2,G_2)}"] & & G_2
		\end{tikzcd}
		\label{eqn:G_Q_homomorphism_setup}
	\end{equation}
	\label{thm:G_Q_homomorphism}
\end{theorem}

\begin{proof}
	Suppose we have such a map $f$.
	Note that  $\overline{Q}$ is a generating set for  $G^Q$, thus we have the setup of \cref{thm:homomorphism_universal_prop}.
	We use the following commutative diagram to define some inclusion maps and as a reference for the setup.
	\begin{equation}
		\begin{tikzcd}
			S_1 \ar[d, "\theta"] \ar[r, hook, "i_{S_1}"] & Q \ar[d, "\theta_*"] \ar[rr, "\pi_{(S_1, G_1)}"] & & \overline{Q} \ar[d, "f"] \ar[r, hook, "i_{\overline{Q}}"] & F_{\overline{Q}} \ar[d, "f_*"]
			\\ S_2 \ar[r, hook, "i_{S_2}"] & F_{S_2} \ar[rr, "\pi_{(S_2, G_2)}"] & & G_2 \ar[r, hook, "i_{G_2}"] & F_{G_2} \ar[rr, "\pi_{(G_2, G_2)}"] & & G_2
		\end{tikzcd}
		\label{eqn:G_Q_proof_setup}
	\end{equation}
	We can construct a homomorphism if $\pi_{(G_2, G_2)} \circ f_*(R) = \Set{1}$, where $R$ are the relations for $G^Q$, defined in \cref{def:G_Q}.
	For some $q \in Q$, the corresponding element in $R$ equalling the identity is  $i_{\overline{Q}} \circ \pi_{(S_1,G_1)}(q)(\pi_{(S_1,G_1)} \circ i_1)_*(q)^{-1}$.
	Using that $\pi_{(G_2,G_2)} \circ f_*$ is a homomorphism, we have
	\begin{align*}
		\pi_{(G_2,G_2)} \circ f_* \left(i_{\overline{Q}} \circ \pi_{(S_1,G_1)}(q)(\pi_{(S_1,G_1)} \circ i_1)_*(q)^{-1}\right) =
		\\ \left(\pi_{(G_2,G_2)} \circ f_* \circ i_{\overline{Q}} \circ \pi_{(S_1,G_1)} (q)\right) \left( \pi_{(G_2,G_2)} \circ f_* \circ\left( \pi_{(S_1,G_1)} \circ i_{S_1}\right)_*(q)^{-1} \right).
	\end{align*}
	We will concentrate on each factor separately.

	First we consider the first factor.
	Since $\pi_{(S_1, G_1)}(q) \in \overline{Q}$, by the rightmost commuting square of \eqref{eqn:G_Q_proof_setup}, we have $f_* \circ i_{\overline{Q}} \circ \pi_{(S_1, G_1)}(q) = i_{G_2} \circ f \circ \pi_{(S_1,G_1)} (q)$.
	This gives us
	\begin{align*}
		\pi_{(G_2,G_2)} \circ f_* \circ i_{\overline{Q}} \circ \pi_{(S_1,G_1)} (q) = \pi_{(G_2,G_2)} \circ i_{G_2} \circ f \circ \pi_{(S_1,G_1)}(q).
	\end{align*}
	We then use the middle commuting square of \eqref{eqn:G_Q_proof_setup} to give us
	\begin{align*}
		\pi_{(G_2,G_2)} \circ i_{G_2} \circ f \circ \pi_{(S_1,G_1)}(q) = \pi_{(G_2,G_2)} \circ i_{G_2} \circ \pi_{(S_2,G_2)} \circ \theta_*(q).
	\end{align*}
	We then use \cref{lem:group_projections} and functoriality, giving us
	\begin{align*}
		\pi_{(G_2,G_2)} \circ i_{G_2} \circ \pi_{(S_2,G_2)} \circ \theta_*(q) & = \pi_{(G_2,G_2)} \circ \left( \pi_{(S_2,G_2)} \circ i_{S_2} \right)_*  \circ \theta_*(q)
		\\ &= \pi_{(G_2,G_2)} \circ \left( \pi_{(S_2,G_2)} \circ i_{S_2} \circ \theta \right)_*(q)
	\end{align*}

	We now concentrate on the second factor.
	Using functoriality, then the middle commuting square of \eqref{eqn:G_Q_proof_setup}, we get
	\begin{align*}
		\pi_{(G_2,G_2)} \circ f_* \circ\left( \pi_{(S_1,G_1)} \circ i_{S_1}\right)_*(q)^{-1} & = \pi_{(G_2,G_2)} \circ \left( f \circ \pi_{(S_1,G_1)} \circ i_{S_1}\right)_*(q)^{-1}
		\\ &= \pi_{(G_2,G_2)} \circ \left(\pi_{(S_2,G_2)} \circ \theta_* \circ i_{S_1}\right)_*(q)^{-1}.
	\end{align*}
	Then, we use the leftmost commuting square of \eqref{eqn:G_Q_proof_setup} to get
	\begin{align*}
		\pi_{(G_2,G_2)} \circ \left(\pi_{(S_2,G_2)} \circ \theta_* \circ i_{S_1}\right)_*(q)^{-1} = \pi_{(G_2,G_2)} \circ \left(\pi_{(S_2,G_2)} \circ i_{S_2} \circ \theta \right)_*(q)^{-1}.
	\end{align*}

	This is the inverse of the left factor.
\end{proof}

\begin{remark}
	If we set $Q = S_1 \subseteq F_{S_1}$ (the minimum subset allowed), then  $G^Q$ is  $F_{S_1}$.
	In this case, $f$ always exists (and is  $\theta$) and \cref{thm:G_Q_homomorphism} tells us the standard theorem about homomorphisms from the free group.
\end{remark}

\begin{remark}
	If we set $Q = F_{S_1}$, then $G^Q$ is  $G$, $f$ is $g$ and \cref{thm:G_Q_homomorphism} tells us nothing more than  \cref{thm:homomorphism_squares}.
\end{remark}

\begin{corollary}
	The homomorphism $h$ resulting from \cref{thm:G_Q_homomorphism} makes the following diagram \eqref{eqn:G_Q_homomorphism_square} commute.
	Thus, considering $S_1$ as a generating set for  $(G_1)^Q$, $h$ is an extension of $\theta$, as in \cref{thm:homomorphism_squares}.
	\begin{equation}
		\begin{tikzcd}
			S_1 \ar[d, "\theta"] \ar[r, hook, "i_{S_1}"] & Q \ar[d, "\theta_*"] \ar[rr, "\pi_{(S_1, G_1)}"] & & \overline{Q} \ar[d, "f"] \ar[r, hook, "i_{\overline{Q}}"] & F_{\overline{Q}} \ar[d, "f_*"] \ar[rr, "\pi_{\left(\overline{Q}, (G_1)^Q\right)}"] & & (G_1)^Q \ar[d, "h"]
			\\ S_2 \ar[r, hook, "i_{S_2}"] & F_{S_2} \ar[rr, "\pi_{(S_2, G_2)}"] & & G_2 \ar[r, hook, "i_{G_2}"] & F_{G_2} \ar[rr, "\pi_{(G_2, G_2)}"] & & G_2
		\end{tikzcd}
		\label{eqn:G_Q_homomorphism_square}
	\end{equation}
\end{corollary}

\begin{proof}
	By \cref{rmk:universal_prop_homomorphism_gives_squares}, we get the rightmost square in \eqref{eqn:G_Q_homomorphism_square}.
\end{proof}

We see that if $\theta \colon S_1 \to S_2$ is surjective, then the homomorphism $h \colon (G_1)^Q \to G_2$ resulting from \cref{thm:G_Q_homomorphism} is surjective.

Observing the form of \cref{def:G_Q}, it is clear that $\pi_{(S,G)}(S)$ is a generating set for $G^Q$, that is to say that $\pi_{(\overline{Q},G^Q)} \circ \left(\pi_{(S,G)} \circ i_S \right)_*$ is surjective.
If we set $Q=F_S$, then $G^Q \cong G$, so $G$ can be realised as a quotient of $G^Q$ via a surjection $p_Q \colon G^Q \to G$ in a way such that the following diagram commutes.

\begin{equation*}
	\begin{tikzcd}
		& F_S \ar[dl, "\pi_{\left(S,G^Q\right)}"'] \ar[dr, "\pi_{\left(S,G\right)}"] &
		\\ G^Q \ar[rr, "p_Q"]  & & G
	\end{tikzcd}
\end{equation*}

\begin{lemma}
	\label{lem:injectivity_of_P_Q_on_Q}
	The projection $p_Q$ restricts to an injection on the image of  $\pi_{(S,G)}(Q)$, i.e.~in the following diagram, the bottom map is an injection.
	\begin{equation*}
		\begin{tikzcd}
			& Q \ar[dl, "\pi_{\left(S,G^Q\right)}"'] \ar[dr, "\pi_{\left(S,G\right)}"] &
			\\ \pi_{\left( S,G^Q \right)} (Q) \ar[rr, hook, "p_Q"]  & & \pi_{\left( S,G \right)}(Q)
		\end{tikzcd}
	\end{equation*}
\end{lemma}
\begin{proof}
	The following diagram commutes.
	\begin{equation*}
		% https://q.uiver.app/#q=WzAsNCxbMCwxLCJRIl0sWzIsMCwiXFxvdmVybGluZXtRfSJdLFs0LDEsIkZfe1xcb3ZlcmxpbmV7UX19Il0sWzYsMSwiR15RIl0sWzAsMSwiXFxwaV97KFMsRyl9Il0sWzEsMiwiaV97XFxvdmVybGluZXtRfX0iXSxbMCwyLCIoXFxwaV97KFMsRyl9IFxcY2lyYyBpX1MpXyoiXSxbMiwzLCJcXHBpX3soXFxvdmVybGluZXtRfSxHXlEpfSJdLFswLDMsIlxccGlfeyhTLEdeUSl9IiwyLHsiY3VydmUiOjN9XV0=
		\begin{tikzcd}
			&& {\overline{Q}} \\
			Q &&&& {F_{\overline{Q}}} && {G^Q}
			\arrow["{i_{\overline{Q}}}", from=1-3, to=2-5]
			\arrow["{\pi_{(S,G)}}", from=2-1, to=1-3]
			\arrow["{(\pi_{(S,G)} \circ i_S)_*}", from=2-1, to=2-5]
			\arrow["{\pi_{(S,G^Q)}}", bend right=20, from=2-1, to=2-7]
			\arrow["{\pi_{(\overline{Q},G^Q)}}", from=2-5, to=2-7]
		\end{tikzcd}
	\end{equation*}
	The top triangle commutes due to the defining relations for $G^Q$, and the bottom triangle commutes because both maps are restrictions of homomorphisms that agree on the generating set $S$.
	Now suppose for some $q_1,q_2 \in Q$ that $\pi_{(S,G)}(q_1)=\pi_{(S,G)}(q_2)$.
	The above diagram tells us that $\pi_{(S,G^Q)}(q_1) = \pi_{(S,G^Q)}(q_2)$.
\end{proof}

\begin{lemma}
	\label{lem:alternative_presentation_for_G_Q}
	Given some group $G \cong \GroupPres{S}$ and $Q$ such that $S \subseteq Q \subseteq F_S$, we have that $G^Q$ is isomorphic to the following group by extending the natural identification of generators.
	\begin{equation}
		X \coloneqq \GroupPres{S \relations \Set{q_1 = q_2 \given q_1,q_2 \in Q, \; \pi_{(S,G) }(q_1) = \pi_{(S,G)}(q_2)}}
	\end{equation}
\end{lemma}
\begin{proof}
	We begin by showing that $\id_S$ extends to a homomorphism $a \colon X \to G^Q$.
	Using \cref{thm:homomorphism_universal_prop}, it suffices to show $\pi_{\left(S,G^Q\right)}(q_1q_2^{-1}) = 1$ for all $q_1,q_2 \in Q$ such that $\pi_{(S,G)}(q_1) = \pi_{(S,G)}(q_2)$.
	Using \cref{lem:injectivity_of_P_Q_on_Q}, if $\pi_{(S,G)}(q_1) = \pi_{(S,G)}(q_2)$ then $\pi_{\left(S,G^Q\right)}(q_1) = \pi_{\left(S,G^Q\right)}(q_2)$.
	Then, since $\pi_{\left(S,G^Q\right)}$ is a homomorphism, we have
	\[
		\pi_{(S,G^Q)}\left(q_1q_2^{-1}\right) = \pi_{(S,G^Q)}(q_1)\pi_{(S,G^Q)}(q_2)^{-1} = 1
		.\]

	Now we work to show that $\id_S$ also extends to a homomorphism $b \colon G^Q \to X$.
	Using \cref{thm:G_Q_homomorphism}, it is sufficient to show that there exists a map $f$ to make the following diagram commute.
	\begin{equation*}
		\begin{tikzcd}
			& Q \ar[dl, "\pi_{(S,G)}"'] \ar[dr, "\pi_{(S,X)}"] &
			\\ G \ar[rr, "f"] & & X
		\end{tikzcd}
	\end{equation*}
	Such an $f$ exists if for all $q_1,q_2 \in Q$ such that $\pi_{\left( S,G \right)} (q_1) = \pi_{\left( S,G \right)} (q_2)$, we also have $\pi_{\left( S,X \right) }(q_1) = \pi_{\left( S,X \right) }(q_2)$.
	This is immediately true on inspection of the defining presentation for $X$.

	Thus, we have two homomorphisms, $a \colon X \to G^Q$, and $b \colon G^Q \to X$.
	Furthermore, by construction $\left( a \circ b \right) |_S = \id_S$.
\end{proof}
We now relate this back to the dual Artin group $A^\vee$.
Firstly, our construction gives an alternative presentation for $A^\vee$.
\begin{corollary}
	Let $S$ denote the standard generating set for our Artin group $A$, and let $Q= \hurref(s_1,\ldots,s_n)$.
	The dual Artin group $A^\vee$ has the following presentation.
	\[
		A^\vee \cong \GroupPres{S \relations \Set{ q_1 = q_2 \given q_1,q_2 \in Q, \pi_{(S,W)}(q_1)=\pi_{(S,W)}(q_2)}}
		.\]
\end{corollary}
\begin{proof}
	This follows from \cref{lem:dual_artin_W_Q_isomorphism} and \cref{lem:alternative_presentation_for_G_Q}.
\end{proof}

Using \cref{lem:artin_to_hurwitz_surjection}, \cref{lem:dual_artin_W_Q_isomorphism} and \cref{thm:G_Q_homomorphism}, we can re-prove \cref{thm:proj_inj_on_Q_implies_dual_isomorphism}, that injectivity of $q \colon A \to W$ on  $\pi_A(Q)$ implies  $A^\vee \cong A$.
Now, using our construction, we can prove the inverse direction.
\begin{theorem}
	\label{thm:proj_inj_on_Q_iff_dual_isomorphism}
	Let $\tau = \pi^n_A(s_1,\ldots,s_n)$ and let $Q = \hurref(\tau)$.
	The Artin group $A$ is naturally isomorphic to the dual Artin group  $A^\vee$ iff the natural projection $q \colon A \to W$ is injective on  $\pi_A(Q)$.
\end{theorem}
\begin{proof}
	\cref{thm:proj_inj_on_Q_implies_dual_isomorphism} already shows that if $q$ is injective on $\pi_A(Q)$, then $A^\vee \cong A$.

	For the other direction, consider the following commutative diagram.
	\begin{equation*}
		% https://q.uiver.app/#q=WzAsNCxbMiwwLCJGX1MiXSxbMCwyLCJBIl0sWzIsMiwiQV5cXHZlZSJdLFs0LDIsIlciXSxbMSwyLCJcXHBoaSJdLFsyLDMsInBfUSJdLFswLDEsIlxccGlfQSJdLFswLDIsIlxccGlfeyhTLFdeUSl9Il0sWzAsMywiXFxwaV9XIl1d
		\begin{tikzcd}
			&& {F_S} \\
			\\
			A && {A^\vee} && W
			\arrow["{\pi_A}", from=1-3, to=3-1]
			\arrow["{\pi_{(S,W^Q)}}", from=1-3, to=3-3]
			\arrow["{\pi_W}", from=1-3, to=3-5]
			\arrow["\phi", from=3-1, to=3-3]
			\arrow["\psi", from=3-3, to=3-5]
			\arrow["q", from=3-1, to=3-5, bend right=30]
		\end{tikzcd}
	\end{equation*}
	We get $\phi$ and $\psi$ from \cref{cor:surj_artin_to_dual_artin} and \cref{cor:surj_dual_artin_to_W} respectively.
	Note that  $\psi$ is the same as $p_Q$ as discussed above.
	Commutativity is easy to check by comparing these maps when restricted to generating sets.

	If we replace $F_S$ with $Q$, then \cref{lem:injectivity_of_P_Q_on_Q} tells us that the corresponding restriction of $\psi$ is injective.
	So, if $\phi$ is an isomorphism, in particular an injection, then $q = \psi \circ \phi$ is an injection on  $\pi_A(Q)$.
\end{proof}
